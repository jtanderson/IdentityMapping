<html>
  <head>	  
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
      <script type="text/javascript" src="paper.js"></script> 
      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
      </head>
<style>
     #html, body{
    font-family: "Times New Roman", Times, serif;
    font-size: 20px;
  }
</style>
  <body> 
    <div class="progress">
      <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 50%;">
        <span class="sr-only">50% Complete</span>
      </div>
    </div>
    <div class="container">
    <h1>
        Tell Us About Your Intersections
    </h1>
    <br>   
<form>
    <div class="form-group">
        <label for="exampleFormControlTextarea1">What do your intersections mean?</label>
        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
      </div>
   <script>
               var prefix = "<div class='form-group'> <label for='exampleFormControlTextarea1'>Please describe the overall nature of the ";
                  var suffix = " intersection (emotional, behavioral, time spent).</label> <textarea class='form-control' id='exampleFormControlTextarea1' rows='3'></textarea></div>"
var projObj = JSON.parse(localStorage["proj"]);
for(var i = 0; i < 26; i++){
    if(projObj[1][1].children[i][1].closed){
        if(projObj[1][1].children[i][1].data["id"].length == 2){//intersections of length 2
    		var output = [];
			for(var j = 0; j < 2; j++){
                output.push(+projObj[1][1].children[i][1].data["id"].charAt(j));
            }
            console.log(projObj[2][1].children[output[0]-1][1].content + " : " + projObj[2][1].children[output[1]-1][1].content);
            document.write(prefix + projObj[2][1].children[output[0]-1][1].content + " : " + projObj[2][1].children[output[1]-1][1].content + suffix);
        }//end two way intersections
    	 if(projObj[1][1].children[i][1].data["id"].length == 3){//intersections of length 3
    		var output = [];
			for(var j = 0; j < 3; j++){
                output.push(+projObj[1][1].children[i][1].data["id"].charAt(j));
            }
            console.log(projObj[2][1].children[output[0]-1][1].content + " : " + projObj[2][1].children[output[1]-1][1].content + " : " + projObj[2][1].children[output[2]-1][1].content);
            document.write(prefix + projObj[2][1].children[output[0]-1][1].content + " : " + projObj[2][1].children[output[1]-1][1].content + " : " + projObj[2][1].children[output[2]-1][1].content + suffix);
        }//end 3 way intersections 
 if(projObj[1][1].children[i][1].data["id"].length == 4){//intersections of length 4
    		var output = [];
			for(var j = 0; j < 4; j++){
                output.push(+projObj[1][1].children[i][1].data["id"].charAt(j));
            }
            console.log(projObj[2][1].children[output[0]-1][1].content + " : " + projObj[2][1].children[output[1]-1][1].content + " : " + projObj[2][1].children[output[2]-1][1].content  + " : " + projObj[2][1].children[output[3]-1][1].content);
            var copy = projObj[2][1].children[output[0]-1][1].content + " : " + projObj[2][1].children[output[1]-1][1].content + " : " + projObj[2][1].children[output[2]-1][1].content  + " : " + projObj[2][1].children[output[3]-1][1].content;
            document.write(prefix + projObj[2][1].children[output[0]-1][1].content + " : " + projObj[2][1].children[output[1]-1][1].content + " : " + projObj[2][1].children[output[2]-1][1].content  + " : " + projObj[2][1].children[output[3]-1][1].content + suffix);
          }//end 4 way intersections
            if(projObj[1][1].children[i][1].data["id"].length == 5){//intersection of length 5
    		var output = [];
			for(var j = 0; j < 5; j++){
                output.push(+projObj[1][1].children[i][1].data["id"].charAt(j));
            }
            console.log(copy);
            console.log(projObj[2][1].children[output[0]-1][1].content + " : " + projObj[2][1].children[output[1]-1][1].content + " : " + projObj[2][1].children[output[2]-1][1].content  + " : " + projObj[2][1].children[output[3]-1][1].content);
            document.write(prefix + "all five identities " + suffix);
          }//end 5 way intersection
       }
     }
      console.log(localStorage);
      var num = parseInt(localStorage["numIntersections"]) -1;
      </script>
</form>
     <div class="text text-right">
        <br><br><br>
        <a href="https://faculty.salisbury.edu/~jtanderson/identitymapping/extendedMapping.html">&larr;Previous </a>
        <a href="https://faculty.salisbury.edu/~jtanderson/identitymapping/survey.html">Next &rarr; </a>
        <h4><a href="extendedMapping.html">&larr;Previous</a>&ensp;&ensp;<a href="survey.html">Next&rarr;</a>&ensp;&ensp;</h4>
      </div>  
     </div>

  </body>
</html>
